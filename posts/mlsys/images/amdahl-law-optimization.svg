<svg viewBox="0 0 820 560" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Amdahl's Law: optimize the constraint, not everything">
  <title>Amdahl's Law: Optimize the Constraint, Not Everything</title>

  <!-- ===== Title ===== -->
  <text x="410" y="32" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="20" font-weight="700" fill="#111827">
    Amdahl's Law: Optimize the Constraint, Not Everything
  </text>

  <!-- ===== Left: Current System Donut ===== -->
  <g transform="translate(190, 220)">
    <text x="0" y="-110" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="700" fill="#374151">
      Current System Runtime
    </text>

    <!-- Donut segments using stroke-dasharray (C ≈ 439.82 for r=70) -->
    <!-- Segment lengths: 70%: 307.88, 20%: 87.96, 10%: 43.98 -->
    <g transform="rotate(100)">
      <!-- Feature Extraction 70% -->
      <circle cx="0" cy="0" r="70" fill="none" stroke="#F44336" stroke-width="24"
              stroke-dasharray="307.88 131.94" stroke-linecap="butt" />
      <!-- Model 20% (offset by 70%) -->
      <circle cx="0" cy="0" r="70" fill="none" stroke="#2196F3" stroke-width="24"
              stroke-dasharray="87.96 351.86" stroke-dashoffset="-307.88" stroke-linecap="butt" />
      <!-- Other 10% (offset by 70%+20%) -->
      <circle cx="0" cy="0" r="70" fill="none" stroke="#9E9E9E" stroke-width="24"
              stroke-dasharray="43.98 395.84" stroke-dashoffset="-395.84" stroke-linecap="butt" />
    </g>
    <!-- Leader lines & labels -->
    <!-- Feature Extraction -->
    <line x1="-38" y1="-84" x2="-110" y2="-120" stroke="#6b7280" />
    <text x="-70" y="-130" text-anchor="end" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="700" fill="#F44336">Feature Extraction</text>
    <text x="-90" y="-114" text-anchor="end" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">70% of runtime</text>

    <!-- Model Inference -->
    <line x1="80" y1="10" x2="120" y2="40" stroke="#6b7280" />
    <text x="118" y="35" text-anchor="start" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="700" fill="#2196F3">Model Inference</text>
    <text x="148" y="45" text-anchor="start" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">20%</text>

    <!-- Other -->
    <line x1="10" y1="86" x2="10" y2="120" stroke="#6b7280" />
    <text x="10" y="136" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="700" fill="#9E9E9E">Other</text>
    <text x="10" y="152" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">10%</text>
  </g>

  <!-- ===== Right Column: Scenarios ===== -->
  <!-- Shared axis baseline for bar lengths (300px = 100% runtime) -->
  <g transform="translate(560, 150)">
    <!-- Scenario 1 -->
    <g>
      <rect x="-170" y="-40" width="370" height="128" rx="10" fill="#FFEBEE" stroke="#F44336" />
      <text x="0" y="-18" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="13" font-weight="700" fill="#B91C1C">
        Scenario 1: Optimize Model (2× faster)
      </text>

      <!-- Before (100%) -->
      <text x="-150" y="6" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">Before</text>
      <rect x="-110" y="-6" width="300" height="18" fill="#E5E7EB" stroke="#9CA3AF"/>
      <rect x="-110" y="-6" width="210" height="18" fill="#F44336"/>
      <rect x="100"  y="-6" width="60"  height="18" fill="#2196F3"/>
      <rect x="160"  y="-6" width="30"  height="18" fill="#9E9E9E"/>

      <!-- After (90%) -->
      <text x="-150" y="32" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">After</text>
      <rect x="-110" y="20" width="270" height="18" fill="#E5E7EB" stroke="#9CA3AF"/>
      <rect x="-110" y="20" width="210" height="18" fill="#F44336"/>
      <rect x="100"  y="20" width="30"  height="18" fill="#4CAF50"/>
      <rect x="130"  y="20" width="30"  height="18" fill="#9E9E9E"/>

      <!-- Result chip -->
      <g transform="translate(0,54)">
        <rect x="-130" y="-2" width="260" height="24" rx="6" fill="#FFF7ED" stroke="#FDBA74"/>
        <text x="0" y="15" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="700" fill="#9A3412">
          System improvement ≈ 11% (1.11×)
        </text>
      </g>

      <!-- Tiny math -->
      <text x="-110" y="-54" font-family="Inter, Arial, sans-serif" font-size="10" fill="#6b7280">
        Runtime: 0.7 + 0.2 + 0.1 = 1.00
      </text>
      <text x="-110" y="-40" font-family="Inter, Arial, sans-serif" font-size="10" fill="#6b7280">
        After: 0.7 + (0.2/2) + 0.1 = 0.90
      </text>
    </g>

    <!-- Scenario 2 (below) -->
    <g transform="translate(0,170)">
      <rect x="-170" y="-40" width="370" height="128" rx="10" fill="#E8F5E9" stroke="#4CAF50" />
      <text x="0" y="-18" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="13" font-weight="700" fill="#1B5E20">
        Scenario 2: Optimize Features (2× faster)
      </text>

      <!-- Before (100%) -->
      <text x="-150" y="6" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">Before</text>
      <rect x="-110" y="-6" width="300" height="18" fill="#E5E7EB" stroke="#9CA3AF"/>
      <rect x="-110" y="-6" width="210" height="18" fill="#F44336"/>
      <rect x="100"  y="-6" width="60"  height="18" fill="#2196F3"/>
      <rect x="160"  y="-6" width="30"  height="18" fill="#9E9E9E"/>

      <!-- After (65%) -->
      <text x="-150" y="32" font-family="Inter, Arial, sans-serif" font-size="11" fill="#374151">After</text>
      <rect x="-110" y="20" width="195" height="18" fill="#E5E7EB" stroke="#9CA3AF"/>
      <rect x="-110" y="20" width="105" height="18" fill="#4CAF50"/>
      <rect x="-5"   y="20" width="60"  height="18" fill="#2196F3"/>
      <rect x="55"   y="20" width="30"  height="18" fill="#9E9E9E"/>

      <!-- Result chip -->
      <g transform="translate(0,54)">
        <rect x="-130" y="-1" width="260" height="24" rx="6" fill="#E8F5E9" stroke="#4CAF50"/>
        <text x="0" y="15" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="700" fill="#1B5E20">
          System improvement ≈ 35% (1.54×)
        </text>
      </g>

      <!-- Tiny math -->
      <text x="-110" y="-54" font-family="Inter, Arial, sans-serif" font-size="10" fill="#6b7280">
        After: (0.7/2) + 0.2 + 0.1 = 0.65
      </text>
    </g>
  </g>

  <!-- ===== Key Insight ===== -->
  <g transform="translate(410, 500)">
    <rect x="-290" y="-36" width="580" height="52" rx="10" fill="#FFF9C4" stroke="#F57C00"/>
    <text x="0" y="-14" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="700" fill="#7C2D12">
      Key Insight: Optimizing the constraint (Feature Extraction) unlocks the largest end-to-end gain
    </text>
    <text x="0" y="5" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="12" font-weight="700" fill="#7C2D12">
      ~35% runtime reduction vs ~11% from optimizing a non-constraint
    </text>
  </g>
</svg>

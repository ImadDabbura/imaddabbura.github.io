<svg viewBox="0 0 900 400" xmlns="http://www.w3.org/2000/svg">
  <rect width="900" height="400" fill="#f8fafc"/>
  
  <text x="450" y="30" font-size="20" font-weight="bold" fill="#1f2937" text-anchor="middle">Production Testing Pipeline</text>
  
  <!-- Start -->
  <rect x="20" y="60" width="120" height="40" rx="5" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="80" y="85" font-size="12" fill="#1e40af" text-anchor="middle">Candidate Model</text>
  
  <!-- Offline Testing -->
  <rect x="180" y="60" width="120" height="40" rx="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="240" y="85" font-size="12" fill="#92400e" text-anchor="middle">Offline Testing</text>
  
  <!-- Shadow Mode -->
  <rect x="340" y="60" width="120" height="40" rx="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="400" y="85" font-size="12" fill="#92400e" text-anchor="middle">Shadow Mode</text>
  <text x="400" y="120" font-size="10" fill="#6b7280" text-anchor="middle">1 week, 100% traffic</text>
  <text x="400" y="135" font-size="10" fill="#6b7280" text-anchor="middle">No user impact</text>
  
  <!-- Canary -->
  <rect x="500" y="60" width="120" height="40" rx="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="560" y="85" font-size="12" fill="#92400e" text-anchor="middle">Canary Release</text>
  <text x="560" y="120" font-size="10" fill="#6b7280" text-anchor="middle">1% → 5% → 25%</text>
  <text x="560" y="135" font-size="10" fill="#6b7280" text-anchor="middle">Gradual rollout</text>
  
  <!-- A/B Test -->
  <rect x="660" y="60" width="120" height="40" rx="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="720" y="85" font-size="12" fill="#92400e" text-anchor="middle">A/B Test</text>
  <text x="720" y="120" font-size="10" fill="#6b7280" text-anchor="middle">50% traffic</text>
  <text x="720" y="135" font-size="10" fill="#6b7280" text-anchor="middle">Statistical validation</text>
  
  <!-- Success -->
  <rect x="820" y="60" width="60" height="40" rx="5" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="850" y="85" font-size="12" fill="#14532d" text-anchor="middle">Deploy</text>
  
  <!-- Failure paths -->
  <rect x="340" y="200" width="120" height="40" rx="5" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="400" y="225" font-size="12" fill="#991b1b" text-anchor="middle">Rollback</text>
  
  <!-- Decision points -->
  <polygon points="240,150 270,180 240,210 210,180" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
  <text x="240" y="185" font-size="10" fill="#000" text-anchor="middle">Pass?</text>
  
  <polygon points="400,150 430,180 400,210 370,180" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
  <text x="400" y="185" font-size="10" fill="#000" text-anchor="middle">Pass?</text>
  
  <polygon points="560,150 590,180 560,210 530,180" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
  <text x="560" y="185" font-size="10" fill="#000" text-anchor="middle">Pass?</text>
  
  <polygon points="720,150 750,180 720,210 690,180" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
  <text x="720" y="185" font-size="10" fill="#000" text-anchor="middle">Pass?</text>
  
  <!-- Arrows for success path -->
  <path d="M 140 80 L 180 80" stroke="#22c55e" stroke-width="2"/>
  <path d="M 300 80 L 340 80" stroke="#22c55e" stroke-width="2"/>
  <path d="M 460 80 L 500 80" stroke="#22c55e" stroke-width="2"/>
  <path d="M 620 80 L 660 80" stroke="#22c55e" stroke-width="2"/>
  <path d="M 780 80 L 820 80" stroke="#22c55e" stroke-width="2"/>
  
  <!-- Decision connections -->
  <path d="M 240 100 L 240 150" stroke="#6b7280" stroke-width="2"/>
  <path d="M 400 100 L 400 150" stroke="#6b7280" stroke-width="2"/>
  <path d="M 560 100 L 560 150" stroke="#6b7280" stroke-width="2"/>
  <path d="M 720 100 L 720 150" stroke="#6b7280" stroke-width="2"/>
  
  <path d="M 270 180 L 340 80" stroke="#22c55e" stroke-width="2"/>
  <path d="M 430 180 L 500 80" stroke="#22c55e" stroke-width="2"/>
  <path d="M 590 180 L 660 80" stroke="#22c55e" stroke-width="2"/>
  <path d="M 750 180 L 820 80" stroke="#22c55e" stroke-width="2"/>
  
  <!-- Failure connections -->
  <path d="M 240 210 L 340 220" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,3"/>
  <path d="M 400 210 L 400 200" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,3"/>
  <path d="M 560 210 L 460 220" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,3"/>
  <path d="M 720 210 L 460 220" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,3"/>
  
  <!-- Labels -->
  <text x="270" y="165" font-size="9" fill="#22c55e">Yes</text>
  <text x="210" y="230" font-size="9" fill="#ef4444">No</text>
  
  <text x="430" y="165" font-size="9" fill="#22c55e">Yes</text>
  <text x="370" y="230" font-size="9" fill="#ef4444">No</text>
  
  <text x="590" y="165" font-size="9" fill="#22c55e">Yes</text>
  <text x="530" y="230" font-size="9" fill="#ef4444">No</text>
  
  <text x="750" y="165" font-size="9" fill="#22c55e">Yes</text>
  <text x="690" y="230" font-size="9" fill="#ef4444">No</text>
</svg>
